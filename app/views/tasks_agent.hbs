{{> leftrail}}
<div class="middle-rail" ng-controller="tasksController" data-ng-init="init()">
  {{{{raw-helper}}}}
  <div class="col-md-6">
    <h4>Tasks available for {{membership.Office.unique_code}}</h4>
    <h6><b>Total count: </b> {{tasks.length}} </h6>
  </div>
  {{{{/raw-helper}}}}
  <div class="col-md-6">
    {{> membership_agent}}
  </div>
  {{{{raw-helper}}}}
  <table class="table table-striped table-bordered table-hover table-responsive">
    <thead>
      <tr>
        <th>#</th>
        <th>Created</th>
        <th>Task Name</th>
        <th>Task Description</th>
        <th>Task type</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="item in tasks">
        <td>{{$index + 1}}</td>
        <td>{{formatDate(item.createdAt)}}</td>
        <td>{{item.ProcessType.name}}</td>
        <td>{{item.ProcessType.description}}</td>
        <td>{{item.ProcessType.type}}</td>
        <td><a ng-click="viewDetail(item)">View more...</a></td>
      </tr>
    </tbody>
  </table>
  {{{{/raw-helper}}}}
  {{> loading}}
  {{> notification}}
</div>
{{> rightrail}}
<!-- JS for chart -->
<script src="../lib/raphael/raphael.min.js"></script>
<script src="../lib/morrisjs/morris.min.js"></script>
<!-- End JS for chart -->
<script src="../js/controllers/task_agent.js"></script>
